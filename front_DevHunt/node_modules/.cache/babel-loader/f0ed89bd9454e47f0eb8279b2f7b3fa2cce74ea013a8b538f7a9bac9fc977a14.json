{"ast":null,"code":"import { io } from \"socket.io-client\";\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      msg: '',\n      data: '',\n      name: this.$route.params.name,\n      room: this.$route.params.room,\n      ENDPOINT: 'http://127.0.0.1:3000',\n      // socket : io.connect(\"http://192.168.43.19:4001\")\n      socket: io(\"http://127.0.0.1:3000\")\n    };\n  },\n  mounted() {\n    this.socket.emit('join', {\n      name: this.name,\n      room: this.room\n    }, ({\n      err\n    }) => {\n      alert(err);\n    });\n  },\n  watch: {\n    socket: newVal => {\n      console.log(newVal);\n    }\n  },\n  methods: {\n    sendMessage(e) {\n      if (this.data != null) {\n        e.preventDefault();\n        this.socket.emit(\"chat message\", this.data);\n        this.data = null;\n      }\n      this.socket.on('chat message', msg => {\n        console.log('back :', msg);\n        this.msg = msg;\n      });\n    }\n  }\n};","map":{"version":3,"names":["io","axios","data","msg","name","$route","params","room","ENDPOINT","socket","mounted","emit","err","alert","watch","newVal","console","log","methods","sendMessage","e","preventDefault","on"],"sources":["src/views/Chat.vue"],"sourcesContent":["<template>\n    <div>\n        <p>{{msg}}</p>\n        <form action=\"\" id=\"form\" @submit=\"sendMessage\">\n            <input type=\"text\" id=\"input\" v-model=\"data\">\n            <input type=\"submit\">\n        </form>\n    </div>\n</template>\n<script>\n    import { io } from \"socket.io-client\" \n    import axios from \"axios\"\n\n    export default {\n        data(){\n            return{\n                msg:'',\n                data:'',\n                name: this.$route.params.name,\n                room: this.$route.params.room,\n                ENDPOINT: 'http://127.0.0.1:3000',\n                \n                // socket : io.connect(\"http://192.168.43.19:4001\")\n                socket: io(\"http://127.0.0.1:3000\")\n                \n            }\n        },\n        mounted(){\n            this.socket.emit('join', {name : this.name, room: this.room}, ({err}) => {\n                alert(err)\n            })\n        },\n        watch:{\n            socket: (newVal) => {\n                console.log(newVal)\n            }\n        },\n        methods:{\n            sendMessage(e){\n\n                if(this.data != null)\n                {\n                    e.preventDefault()\n                    this.socket.emit(\"chat message\",this.data);\n\n                    this.data = null\n                }\n                this.socket.on('chat message',(msg)=>{\n                    console.log('back :',msg)\n                    this.msg = msg\n                })\n                \n            }\n    }\n    }\n\n</script>\n"],"mappings":"AAUA,SAAAA,EAAA;AACA,OAAAC,KAAA;AAEA;EACAC,KAAA;IACA;MACAC,GAAA;MACAD,IAAA;MACAE,IAAA,OAAAC,MAAA,CAAAC,MAAA,CAAAF,IAAA;MACAG,IAAA,OAAAF,MAAA,CAAAC,MAAA,CAAAC,IAAA;MACAC,QAAA;MAEA;MACAC,MAAA,EAAAT,EAAA;IAEA;EACA;EACAU,QAAA;IACA,KAAAD,MAAA,CAAAE,IAAA;MAAAP,IAAA,OAAAA,IAAA;MAAAG,IAAA,OAAAA;IAAA;MAAAK;IAAA;MACAC,KAAA,CAAAD,GAAA;IACA;EACA;EACAE,KAAA;IACAL,MAAA,EAAAM,MAAA;MACAC,OAAA,CAAAC,GAAA,CAAAF,MAAA;IACA;EACA;EACAG,OAAA;IACAC,YAAAC,CAAA;MAEA,SAAAlB,IAAA,UACA;QACAkB,CAAA,CAAAC,cAAA;QACA,KAAAZ,MAAA,CAAAE,IAAA,sBAAAT,IAAA;QAEA,KAAAA,IAAA;MACA;MACA,KAAAO,MAAA,CAAAa,EAAA,iBAAAnB,GAAA;QACAa,OAAA,CAAAC,GAAA,WAAAd,GAAA;QACA,KAAAA,GAAA,GAAAA,GAAA;MACA;IAEA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}