{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport io from \"socket.io-client\";\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      message: '',\n      messages: ['Hi', 'Hello'],\n      name: this.$route.params.name,\n      room: this.$route.params.room,\n      ENDPOINT: 'http://127.0.0.1:3000',\n      // socket : io.connect(\"http://192.168.43.19:4001\")\n      socket: io(\"http://127.0.0.1:3000\")\n    };\n  },\n  mounted() {\n    this.joinRoom();\n    this.getAllMessages();\n  },\n  watch: {},\n  methods: {\n    joinRoom() {\n      this.socket.emit('join', {\n        name: this.name,\n        room: this.room\n      }, () => {});\n    },\n    leaveRoom() {\n      this.socket.emit('disconnected'); // disconnect is a reserved event name\n      this.socket.off();\n    },\n    getAllMessages() {\n      this.socket.on('message', message => {\n        this.messages.push(message.text);\n      });\n    },\n    sendMessage(e) {\n      e.preventDefault();\n      console.log(e);\n      this.message = '';\n    }\n  },\n  beforeDestroy() {\n    this.leaveRoom();\n  }\n};","map":{"version":3,"names":["io","axios","data","message","messages","name","$route","params","room","ENDPOINT","socket","mounted","joinRoom","getAllMessages","watch","methods","emit","leaveRoom","off","on","push","text","sendMessage","e","preventDefault","console","log","beforeDestroy"],"sources":["src/views/Chat.vue"],"sourcesContent":["<template>\n    <div class=\"container\">\n\n        <form class=\"form-group py-5\" action=\"\" id=\"form\">\n            <input class=\"form-contro\" type=\"text\" id=\"input\" v-model=\"message\" @keypress=\"{(e) =>{e.key === 'Enter' ? sendMessage : null}}\" >\n            <input class=\"form-contro\" type=\"text\" id=\"input\"  @keypress=\"e => e.key === 'Enter' ? sendMessage : null\" >\n            <!-- <input type=\"button\" value=\"send\" @keypress=\"sendMessage\"> -->\n        </form>\n        <ul>\n            <li :key=\"index\" v-for=\"(msg,index) in messages\">{{msg}}</li>\n        </ul>\n    </div>\n</template>\n<script>\n    import io  from \"socket.io-client\"  \n    import axios from \"axios\"\n\n    export default {\n        data(){\n            return{\n                message:'',\n                messages:['Hi','Hello'],\n                name: this.$route.params.name,\n                room: this.$route.params.room,\n                ENDPOINT: 'http://127.0.0.1:3000',\n                \n                // socket : io.connect(\"http://192.168.43.19:4001\")\n                socket: io(\"http://127.0.0.1:3000\")\n                \n            }\n        },\n        mounted(){\n            this.joinRoom()\n            this.getAllMessages()\n        },\n        watch:{\n            \n        },\n        methods:{\n            joinRoom(){\n                this.socket.emit('join', {name : this.name, room: this.room}, () => {\n\n                })\n            },\n            leaveRoom()\n            {\n                this.socket.emit('disconnected') // disconnect is a reserved event name\n                this.socket.off()\n            },\n            getAllMessages(){\n                this.socket.on('message',(message) => {\n                    this.messages.push(message.text)\n                })\n            },\n            sendMessage(e){\n                e.preventDefault()\n                console.log(e);\n                this.message=''\n            }\n        },\n        beforeDestroy(){\n            this.leaveRoom()\n        }\n    }\n\n</script>\n"],"mappings":";AAcA,OAAAA,EAAA;AACA,OAAAC,KAAA;AAEA;EACAC,KAAA;IACA;MACAC,OAAA;MACAC,QAAA;MACAC,IAAA,OAAAC,MAAA,CAAAC,MAAA,CAAAF,IAAA;MACAG,IAAA,OAAAF,MAAA,CAAAC,MAAA,CAAAC,IAAA;MACAC,QAAA;MAEA;MACAC,MAAA,EAAAV,EAAA;IAEA;EACA;EACAW,QAAA;IACA,KAAAC,QAAA;IACA,KAAAC,cAAA;EACA;EACAC,KAAA,GAEA;EACAC,OAAA;IACAH,SAAA;MACA,KAAAF,MAAA,CAAAM,IAAA;QAAAX,IAAA,OAAAA,IAAA;QAAAG,IAAA,OAAAA;MAAA,UAEA;IACA;IACAS,UAAA,EACA;MACA,KAAAP,MAAA,CAAAM,IAAA;MACA,KAAAN,MAAA,CAAAQ,GAAA;IACA;IACAL,eAAA;MACA,KAAAH,MAAA,CAAAS,EAAA,YAAAhB,OAAA;QACA,KAAAC,QAAA,CAAAgB,IAAA,CAAAjB,OAAA,CAAAkB,IAAA;MACA;IACA;IACAC,YAAAC,CAAA;MACAA,CAAA,CAAAC,cAAA;MACAC,OAAA,CAAAC,GAAA,CAAAH,CAAA;MACA,KAAApB,OAAA;IACA;EACA;EACAwB,cAAA;IACA,KAAAV,SAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}