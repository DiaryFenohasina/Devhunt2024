{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport io from \"socket.io-client\";\nexport default {\n  data() {\n    return {\n      message: '',\n      messages: ['Welcome to the chat channel'],\n      name: this.$route.params.name,\n      room: this.$route.params.room,\n      ENDPOINT: 'http://127.0.0.1:3000',\n      // socket : io.connect(\"http://192.168.43.19:4001\")\n      socket: io(\"http://127.0.0.1:3000\")\n    };\n  },\n  mounted() {\n    this.joinRoom();\n    this.getAllMessages();\n  },\n  watch: {},\n  methods: {\n    joinRoom() {\n      this.socket.emit('join', {\n        name: this.name,\n        room: this.room\n      }, () => {});\n    },\n    leaveRoom() {\n      this.socket.emit('disconnect', this.name); // disconnect is a reserved event name\n      this.socket.off();\n    },\n    getAllMessages() {\n      this.socket.on('message', message => {\n        this.messages.push(message.text);\n      });\n    },\n    sendMessage() {\n      if (!this.message) return;\n      this.socket.emit('sendMessage', this.message);\n      this.message = '';\n    }\n  },\n  beforeDestroy() {\n    this.leaveRoom();\n  }\n};","map":{"version":3,"names":["io","data","message","messages","name","$route","params","room","ENDPOINT","socket","mounted","joinRoom","getAllMessages","watch","methods","emit","leaveRoom","off","on","push","text","sendMessage","beforeDestroy"],"sources":["src/views/Chat.vue"],"sourcesContent":["<template>\n    <div class=\"container\">\n\n        <div class=\"form-group\">\n            <input class=\"form-contro\" type=\"text\" id=\"input\" v-model=\"message\" @keydown.enter=\"sendMessage\">\n            <input type=\"button\" value=\"send\" @click=\"sendMessage\">\n        </div>\n        <ul>\n            <li :key=\"index\" v-for=\"(msg,index) in messages\">{{msg}}</li>\n        </ul>\n    </div>\n</template>\n<script>\n    import io  from \"socket.io-client\"\n\n    export default {\n        data(){\n            return{\n                message:'',\n                messages:['Welcome to the chat channel'],\n                name: this.$route.params.name,\n                room: this.$route.params.room,\n                ENDPOINT: 'http://127.0.0.1:3000',\n                \n                // socket : io.connect(\"http://192.168.43.19:4001\")\n                socket: io(\"http://127.0.0.1:3000\")\n                \n            }\n        },\n        mounted(){\n            this.joinRoom()\n            this.getAllMessages()\n        },\n        watch:{\n            \n        },\n        methods:{\n\n            joinRoom(){\n                this.socket.emit('join', {name : this.name, room: this.room}, () => {\n\n                })\n            },\n            leaveRoom()\n            {\n                this.socket.emit('disconnect', this.name) // disconnect is a reserved event name\n                this.socket.off()\n            },\n            getAllMessages(){\n                this.socket.on('message',(message) => {\n                    this.messages.push(message.text)\n                })\n            },\n            sendMessage(){\n                \n                if(!this.message) return \n\n                this.socket.emit('sendMessage', this.message)\n\n                this.message=''\n            }\n        },\n        beforeDestroy(){\n            this.leaveRoom()\n        }\n    }\n\n</script>\n"],"mappings":";AAaA,OAAAA,EAAA;AAEA;EACAC,KAAA;IACA;MACAC,OAAA;MACAC,QAAA;MACAC,IAAA,OAAAC,MAAA,CAAAC,MAAA,CAAAF,IAAA;MACAG,IAAA,OAAAF,MAAA,CAAAC,MAAA,CAAAC,IAAA;MACAC,QAAA;MAEA;MACAC,MAAA,EAAAT,EAAA;IAEA;EACA;EACAU,QAAA;IACA,KAAAC,QAAA;IACA,KAAAC,cAAA;EACA;EACAC,KAAA,GAEA;EACAC,OAAA;IAEAH,SAAA;MACA,KAAAF,MAAA,CAAAM,IAAA;QAAAX,IAAA,OAAAA,IAAA;QAAAG,IAAA,OAAAA;MAAA,UAEA;IACA;IACAS,UAAA,EACA;MACA,KAAAP,MAAA,CAAAM,IAAA,oBAAAX,IAAA;MACA,KAAAK,MAAA,CAAAQ,GAAA;IACA;IACAL,eAAA;MACA,KAAAH,MAAA,CAAAS,EAAA,YAAAhB,OAAA;QACA,KAAAC,QAAA,CAAAgB,IAAA,CAAAjB,OAAA,CAAAkB,IAAA;MACA;IACA;IACAC,YAAA;MAEA,UAAAnB,OAAA;MAEA,KAAAO,MAAA,CAAAM,IAAA,qBAAAb,OAAA;MAEA,KAAAA,OAAA;IACA;EACA;EACAoB,cAAA;IACA,KAAAN,SAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}