{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nconst backServer = axios.create({\n  baseURL: `http://127.0.0.1:3000/`\n});\nbackServer.interceptors.request.use(config => {\n  let token = localStorage.getItem(\"token\");\n  console.log(token);\n  if (token) {\n    config.headers['Authorization'] = `${token}`;\n  }\n  return config;\n}, error => {\n  this.$router.push('/');\n  return Promise.reject(error);\n});\nconst backServerAdmin = axios.create({\n  baseURL: `http://127.0.0.1:3000/`\n});\nbackServerAdmin.interceptors.request.use(config => {\n  let token = localStorage.getItem(\"token\");\n  let role = localStorage.getItem(\"role\");\n  if (role === \"admin\") {\n    if (token) {\n      config.headers['Authorization'] = `${token}`;\n    }\n  } else {\n    this.$router.push('/');\n  }\n  return config;\n}, error => {\n  this.$router.push('/');\n  return Promise.reject(error);\n});\nexport { backServer, backServerAdmin };","map":{"version":3,"names":["axios","backServer","create","baseURL","interceptors","request","use","config","token","localStorage","getItem","console","log","headers","error","$router","push","Promise","reject","backServerAdmin","role"],"sources":["/home/routs/Desktop/vue2-bootstrap/src/config/axiosConfig.js"],"sourcesContent":["import axios from 'axios' \n\nconst backServer = axios.create({\n    baseURL: `http://127.0.0.1:3000/`\n})\n\n\nbackServer.interceptors.request.use(config => {\n\n    \n\n    let token = localStorage.getItem(\"token\")\n    console.log(token)\n\n    if (token){\n        config.headers['Authorization'] = `${token}`\n    }\n    return config\n    }, error => {\n        this.$router.push('/')\n        return Promise.reject(error)\n})\n\nconst backServerAdmin = axios.create({\n    baseURL: `http://127.0.0.1:3000/`\n\n})\n\nbackServerAdmin.interceptors.request.use(config => {\n    let token = localStorage.getItem(\"token\")\n    let role = localStorage.getItem(\"role\")\n    if(role === \"admin\"){\n        if (token){\n            config.headers['Authorization'] = `${token}`\n        }\n    }else{\n        this.$router.push('/')\n    }\n    return config\n    }, error => {\n        this.$router.push('/')\n        return Promise.reject(error) \n})\n\nexport { backServer, backServerAdmin}"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,UAAU,GAAGD,KAAK,CAACE,MAAM,CAAC;EAC5BC,OAAO,EAAG;AACd,CAAC,CAAC;AAGFF,UAAU,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAACC,MAAM,IAAI;EAI1C,IAAIC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EACzCC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;EAElB,IAAIA,KAAK,EAAC;IACND,MAAM,CAACM,OAAO,CAAC,eAAe,CAAC,GAAI,GAAEL,KAAM,EAAC;EAChD;EACA,OAAOD,MAAM;AACb,CAAC,EAAEO,KAAK,IAAI;EACR,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;EACtB,OAAOC,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;AACpC,CAAC,CAAC;AAEF,MAAMK,eAAe,GAAGnB,KAAK,CAACE,MAAM,CAAC;EACjCC,OAAO,EAAG;AAEd,CAAC,CAAC;AAEFgB,eAAe,CAACf,YAAY,CAACC,OAAO,CAACC,GAAG,CAACC,MAAM,IAAI;EAC/C,IAAIC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EACzC,IAAIU,IAAI,GAAGX,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;EACvC,IAAGU,IAAI,KAAK,OAAO,EAAC;IAChB,IAAIZ,KAAK,EAAC;MACND,MAAM,CAACM,OAAO,CAAC,eAAe,CAAC,GAAI,GAAEL,KAAM,EAAC;IAChD;EACJ,CAAC,MAAI;IACD,IAAI,CAACO,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;EAC1B;EACA,OAAOT,MAAM;AACb,CAAC,EAAEO,KAAK,IAAI;EACR,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;EACtB,OAAOC,OAAO,CAACC,MAAM,CAACJ,KAAK,CAAC;AACpC,CAAC,CAAC;AAEF,SAASb,UAAU,EAAEkB,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}