{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport io from \"socket.io-client\";\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      message: '',\n      messages: ['Hi', 'Hello'],\n      name: this.$route.params.name,\n      room: this.$route.params.room,\n      ENDPOINT: 'http://127.0.0.1:3000',\n      // socket : io.connect(\"http://192.168.43.19:4001\")\n      socket: io(\"http://127.0.0.1:3000\")\n    };\n  },\n  mounted() {\n    this.socket.emit('join', {\n      name: this.name,\n      room: this.room\n    }, () => {});\n    this.socket.on('message', message => {\n      this.messages.push(message);\n    });\n  },\n  watch: {\n    socket: newVal => {\n      console.log('changement au niveau du variable socket : ', newVal);\n    }\n  },\n  methods: {\n    sendMessage(e) {\n      e.preventDefault();\n      this.message = '';\n    }\n  },\n  beforeDestroy() {\n    this.socket.emit('disconnected'); // disconnect is a reserved event name\n\n    this.socket.off();\n  }\n};","map":{"version":3,"names":["io","axios","data","message","messages","name","$route","params","room","ENDPOINT","socket","mounted","emit","on","push","watch","newVal","console","log","methods","sendMessage","e","preventDefault","beforeDestroy","off"],"sources":["src/views/Chat.vue"],"sourcesContent":["<template>\n    <div class=\"container\">\n\n        <form class=\"form-group py-5\" action=\"\" id=\"form\" @submit=\"sendMessage\">\n            <input class=\"form-contro\" type=\"text\" id=\"input\" v-model=\"message\">\n            <input type=\"submit\">\n        </form>\n        <ul>\n            <li :key=\"index\" v-for=\"(msg,index) in messages\">{{msg}}</li>\n        </ul>\n    </div>\n</template>\n<script>\n    import io  from \"socket.io-client\" \n    import axios from \"axios\"\n\n    export default {\n        data(){\n            return{\n                message:'',\n                messages:['Hi','Hello'],\n                name: this.$route.params.name,\n                room: this.$route.params.room,\n                ENDPOINT: 'http://127.0.0.1:3000',\n                \n                // socket : io.connect(\"http://192.168.43.19:4001\")\n                socket: io(\"http://127.0.0.1:3000\")\n                \n            }\n        },\n        mounted(){\n            this.socket.emit('join', {name : this.name, room: this.room}, () => {\n\n            })\n            this.socket.on('message',(message) => {\n                this.messages.push(message)\n\n            })\n        },\n\n        watch:{\n            socket: (newVal) => {\n                console.log('changement au niveau du variable socket : ',newVal)\n            }\n        },\n        methods:{\n            sendMessage(e){\n                e.preventDefault()\n\n                        \n                this.message=''\n                \n            }\n        },\n        beforeDestroy(){\n            this.socket.emit('disconnected') // disconnect is a reserved event name\n\n            this.socket.off()\n        }\n    }\n\n</script>\n"],"mappings":";AAaA,OAAAA,EAAA;AACA,OAAAC,KAAA;AAEA;EACAC,KAAA;IACA;MACAC,OAAA;MACAC,QAAA;MACAC,IAAA,OAAAC,MAAA,CAAAC,MAAA,CAAAF,IAAA;MACAG,IAAA,OAAAF,MAAA,CAAAC,MAAA,CAAAC,IAAA;MACAC,QAAA;MAEA;MACAC,MAAA,EAAAV,EAAA;IAEA;EACA;EACAW,QAAA;IACA,KAAAD,MAAA,CAAAE,IAAA;MAAAP,IAAA,OAAAA,IAAA;MAAAG,IAAA,OAAAA;IAAA,UAEA;IACA,KAAAE,MAAA,CAAAG,EAAA,YAAAV,OAAA;MACA,KAAAC,QAAA,CAAAU,IAAA,CAAAX,OAAA;IAEA;EACA;EAEAY,KAAA;IACAL,MAAA,EAAAM,MAAA;MACAC,OAAA,CAAAC,GAAA,+CAAAF,MAAA;IACA;EACA;EACAG,OAAA;IACAC,YAAAC,CAAA;MACAA,CAAA,CAAAC,cAAA;MAGA,KAAAnB,OAAA;IAEA;EACA;EACAoB,cAAA;IACA,KAAAb,MAAA,CAAAE,IAAA;;IAEA,KAAAF,MAAA,CAAAc,GAAA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}